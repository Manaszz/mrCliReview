# –ü—Ä–æ–±–ª–µ–º–∞ –æ—Ñ–ª–∞–π–Ω —Å–±–æ—Ä–∫–∏ Docker

## üîç –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–≥–æ Dockerfile

### –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ `docker build`?

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ docker build .                                              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                          ‚îÇ
                          ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ FROM python:3.11-slim                                       ‚îÇ
‚îÇ ‚úÖ OK: –ï—Å–ª–∏ –æ–±—Ä–∞–∑ –µ—Å—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ                             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                          ‚îÇ
                          ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ RUN apt-get update && apt-get install curl git...          ‚îÇ
‚îÇ ‚úÖ OK: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –±–∞–∑–æ–≤—ã–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ Debian                ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                          ‚îÇ
                          ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ ‚ö†Ô∏è  –ü–†–û–ë–õ–ï–ú–ê 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Node.js                          ‚îÇ
‚îÇ                                                             ‚îÇ
‚îÇ curl -fsSL https://deb.nodesource.com/gpgkey/...           ‚îÇ
‚îÇ          ‚îî‚îÄ‚îÄ‚ñ∫ –°–∫–∞—á–∏–≤–∞–Ω–∏–µ GPG –∫–ª—é—á–∞ NodeSource              ‚îÇ
‚îÇ                                                             ‚îÇ
‚îÇ echo "deb ... https://deb.nodesource.com/node_18.x ..."    ‚îÇ
‚îÇ          ‚îî‚îÄ‚îÄ‚ñ∫ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è NodeSource            ‚îÇ
‚îÇ                                                             ‚îÇ
‚îÇ apt-get update                                              ‚îÇ
‚îÇ          ‚îî‚îÄ‚îÄ‚ñ∫ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø–∞–∫–µ—Ç–æ–≤ –∏–∑ NodeSource      ‚îÇ
‚îÇ                                                             ‚îÇ
‚îÇ apt-get install nodejs                                      ‚îÇ
‚îÇ          ‚îî‚îÄ‚îÄ‚ñ∫ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Node.js 18.x –∏–∑ NodeSource         ‚îÇ
‚îÇ                                                             ‚îÇ
‚îÇ ‚ùå –¢–†–ï–ë–£–ï–¢ –ò–ù–¢–ï–†–ù–ï–¢!                                        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                          ‚îÇ
                          ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ ‚ö†Ô∏è  –ü–†–û–ë–õ–ï–ú–ê 2: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ CLI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤                 ‚îÇ
‚îÇ                                                             ‚îÇ
‚îÇ npm install -g @cline/cli || echo "Warning..."             ‚îÇ
‚îÇ          ‚îî‚îÄ‚îÄ‚ñ∫ –ü—ã—Ç–∞–µ—Ç—Å—è —Å–∫–∞—á–∞—Ç—å –∏–∑ npmjs.com                ‚îÇ
‚îÇ          ‚îî‚îÄ‚îÄ‚ñ∫ –ï—Å–ª–∏ –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç—Å—è - –º–æ–ª—á–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç        ‚îÇ
‚îÇ                                                             ‚îÇ
‚îÇ npm install -g @qwen-code/qwen-code || echo "Warning..."   ‚îÇ
‚îÇ          ‚îî‚îÄ‚îÄ‚ñ∫ –ü—ã—Ç–∞–µ—Ç—Å—è —Å–∫–∞—á–∞—Ç—å –∏–∑ npmjs.com                ‚îÇ
‚îÇ          ‚îî‚îÄ‚îÄ‚ñ∫ –ï—Å–ª–∏ –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç—Å—è - –º–æ–ª—á–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç        ‚îÇ
‚îÇ                                                             ‚îÇ
‚îÇ ‚ö†Ô∏è –ú–û–ñ–ï–¢ –¢–†–ï–ë–û–í–ê–¢–¨ –ò–ù–¢–ï–†–ù–ï–¢ (–Ω–æ –Ω–µ –ø–∞–¥–∞–µ—Ç!)                 ‚îÇ
‚îÇ ‚ùå –°–±–æ—Ä–∫–∞ —É—Å–ø–µ—à–Ω–∞, –Ω–æ CLI –ù–ï –†–ê–ë–û–¢–ê–Æ–¢!                      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                          ‚îÇ
                          ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ ‚úÖ –û–±—Ä–∞–∑ —Å–æ–±—Ä–∞–Ω —É—Å–ø–µ—à–Ω–æ                                     ‚îÇ
‚îÇ ‚ùå –ù–æ —Å–∏—Å—Ç–µ–º–∞ –ù–ï –§–£–ù–ö–¶–ò–û–ù–ê–õ–¨–ù–ê (–Ω–µ—Ç CLI)                    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üåê –ö—É–¥–∞ –≤–µ–¥—É—Ç —ç—Ç–∏ –∞–¥—Ä–µ—Å–∞?

### 1. https://deb.nodesource.com/

**–ß—Ç–æ —ç—Ç–æ:**
- –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π NodeSource –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Node.js –≤ Debian/Ubuntu
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –∫–æ–º–ø–∞–Ω–∏–µ–π NodeSource Inc.

**–ó–∞—á–µ–º –Ω—É–∂–µ–Ω:**
- Debian –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—Ç–∞—Ä—É—é –≤–µ—Ä—Å–∏—é Node.js (v12 –∏–ª–∏ –¥–∞–∂–µ v10)
- –ù–∞–º –Ω—É–∂–Ω–∞ Node.js 18+ –¥–ª—è CLI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ (Cline, Qwen Code)
- NodeSource –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–≤–µ–∂–∏–µ –≤–µ—Ä—Å–∏–∏: 16.x, 18.x, 20.x, 22.x

**–ß—Ç–æ —Å–∫–∞—á–∏–≤–∞–µ—Ç—Å—è:**

1. **GPG –∫–ª—é—á** (`/gpgkey/nodesource-repo.gpg.key`)
   - –î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–ª–∏–Ω–Ω–æ—Å—Ç–∏ –ø–∞–∫–µ—Ç–æ–≤
   - –†–∞–∑–º–µ—Ä: ~3 KB
   - –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∫—É –ø–æ–¥–¥–µ–ª—å–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤

2. **Metadata —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è** (–ø–æ—Å–ª–µ `apt-get update`)
   - –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤
   - –†–∞–∑–º–µ—Ä: ~500 KB

3. **Node.js –ø–∞–∫–µ—Ç** (–ø—Ä–∏ `apt-get install nodejs`)
   - Node.js runtime + npm
   - –†–∞–∑–º–µ—Ä: ~30-40 MB

**–ü—Ä–∏–º–µ—Ä —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
```bash
# –®–∞–≥ 1: –°–∫–∞—á–∞—Ç—å GPG –∫–ª—é—á
curl -fsSL https://deb.nodesource.com/gpgkey/nodesource-repo.gpg.key
# ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—É–±–ª–∏—á–Ω—ã–π GPG –∫–ª—é—á

# –®–∞–≥ 2: –î–æ–±–∞–≤–∏—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
echo "deb [signed-by=...] https://deb.nodesource.com/node_18.x nodistro main"
# ‚Üí –¥–æ–±–∞–≤–ª—è–µ—Ç –≤ /etc/apt/sources.list.d/nodesource.list

# –®–∞–≥ 3: –û–±–Ω–æ–≤–∏—Ç—å apt cache
apt-get update
# ‚Üí —Å–∫–∞—á–∏–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –ø–∞–∫–µ—Ç–æ–≤ –∏–∑ deb.nodesource.com

# –®–∞–≥ 4: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Node.js
apt-get install nodejs
# ‚Üí —Å–∫–∞—á–∏–≤–∞–µ—Ç nodejs_18.x.x_amd64.deb (~35 MB)
```

### 2. https://registry.npmjs.org/

**–ß—Ç–æ —ç—Ç–æ:**
- –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –ø—É–±–ª–∏—á–Ω—ã–π —Ä–µ–µ—Å—Ç—Ä npm –ø–∞–∫–µ—Ç–æ–≤
- –°–æ–¥–µ—Ä–∂–∏—Ç >2 –º–∏–ª–ª–∏–æ–Ω–æ–≤ –ø–∞–∫–µ—Ç–æ–≤

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:**
```bash
npm install -g @cline/cli
# ‚Üí –∑–∞–ø—Ä–æ—Å –∫ https://registry.npmjs.org/@cline/cli
# ‚Üí —Å–∫–∞—á–∏–≤–∞–µ—Ç tarball –ø–∞–∫–µ—Ç–∞
```

**–†–∞–∑–º–µ—Ä—ã:**
- `@cline/cli`: ~2.5 MB
- `@qwen-code/qwen-code`: ~1.8 MB
- + –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: ~5-10 MB

---

## üö´ –ü–æ—á–µ–º—É —ç—Ç–æ –ø—Ä–æ–±–ª–µ–º–∞ –¥–ª—è –æ—Ñ–ª–∞–π–Ω —Å—Ä–µ–¥—ã?

### –°—Ü–µ–Ω–∞—Ä–∏–π: –°–±–æ—Ä–∫–∞ –≤ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å–µ—Ç–∏

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  –í–∞—à —Å–µ—Ä–≤–µ—Ä          ‚îÇ
‚îÇ  (–±–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞)     ‚îÇ
‚îÇ                      ‚îÇ
‚îÇ  docker build .      ‚îÇ
‚îÇ         ‚îÇ            ‚îÇ
‚îÇ         ‚ñº            ‚îÇ
‚îÇ  curl https://...    ‚îÇ ‚îÄ‚îÄ‚ñ∫ ‚ùå Connection refused
‚îÇ         ‚îÇ            ‚îÇ
‚îÇ         ‚ñº            ‚îÇ
‚îÇ  FAIL? –ù–ï–¢!          ‚îÇ ‚îÄ‚îÄ‚ñ∫ || echo "Warning..."
‚îÇ         ‚îÇ            ‚îÇ     ‚îî‚îÄ‚ñ∫ –°–±–æ—Ä–∫–∞ –ü–†–û–î–û–õ–ñ–ê–ï–¢–°–Ø
‚îÇ         ‚ñº            ‚îÇ
‚îÇ  ‚úÖ –û–±—Ä–∞–∑ —Å–æ–±—Ä–∞–Ω     ‚îÇ
‚îÇ  ‚ùå CLI –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- Docker –æ–±—Ä–∞–∑ —Å–æ–±–µ—Ä—ë—Ç—Å—è **–±–µ–∑ –æ—à–∏–±–æ–∫**
- API –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è **—É—Å–ø–µ—à–Ω–æ**
- –ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ review:
  ```
  /bin/sh: cline: command not found
  ```

---

## ‚úÖ –†–µ—à–µ–Ω–∏—è

### –†–µ—à–µ–Ω–∏–µ 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥–æ—Ç–æ–≤—ã–π –æ–±—Ä–∞–∑ —Å Node.js

**–í–º–µ—Å—Ç–æ:**
```dockerfile
FROM python:3.11-slim
# + —É—Å—Ç–∞–Ω–æ–≤–∫–∞ Node.js –∏–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
```dockerfile
FROM nikolaik/python-nodejs:python3.11-nodejs18-slim
# Node.js —É–∂–µ –µ—Å—Ç—å –≤–Ω—É—Ç—Ä–∏!
```

**–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞:**
```bash
# –í —Å—Ä–µ–¥–µ —Å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–æ–º
docker pull nikolaik/python-nodejs:python3.11-nodejs18-slim
docker save -o base-image.tar nikolaik/python-nodejs:python3.11-nodejs18-slim

# –í –æ—Ñ–ª–∞–π–Ω —Å—Ä–µ–¥–µ
docker load -i base-image.tar
```

### –†–µ—à–µ–Ω–∏–µ 2: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å npm –ø–∞–∫–µ—Ç—ã –∏–∑ –ª–æ–∫–∞–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

**–í–º–µ—Å—Ç–æ:**
```dockerfile
npm install -g @cline/cli || echo "Warning..."
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
```dockerfile
COPY offline-packages/*.tgz /tmp/npm-packages/
RUN npm install -g /tmp/npm-packages/cline-*.tgz
```

**–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞:**
```bash
# –í —Å—Ä–µ–¥–µ —Å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–æ–º
mkdir offline-packages
cd offline-packages
npm pack @cline/cli
npm pack @qwen-code/qwen-code
```

### –†–µ—à–µ–Ω–∏–µ 3: –ö–æ–º–±–∏–Ω–∞—Ü–∏—è (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–°–º. `Dockerfile.offline` + `docker-compose.offline.yml`

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ñ–ª–∞–π–Ω —Å–±–æ—Ä–∫–∞
- ‚úÖ –Ø–≤–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ CLI
- ‚úÖ –°–±–æ—Ä–∫–∞ –ø–∞–¥–∞–µ—Ç, –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫
- ‚úÖ –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç—å

---

## üìã –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ –¥–ª—è –æ—Ñ–ª–∞–π–Ω —Å–±–æ—Ä–∫–∏

### –í —Å—Ä–µ–¥–µ —Å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–æ–º ‚úì

- [ ] –°–∫–∞—á–∞—Ç—å –±–∞–∑–æ–≤—ã–π Docker –æ–±—Ä–∞–∑
  ```bash
  docker pull nikolaik/python-nodejs:python3.11-nodejs18-slim
  docker save -o base-image.tar nikolaik/python-nodejs:python3.11-nodejs18-slim
  ```

- [ ] –°–∫–∞—á–∞—Ç—å npm –ø–∞–∫–µ—Ç—ã
  ```bash
  cd offline-packages
  npm pack @cline/cli
  npm pack @qwen-code/qwen-code
  ```

- [ ] –°–∫–∞—á–∞—Ç—å pip –ø–∞–∫–µ—Ç—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
  ```bash
  pip download -r requirements.txt -d offline-packages/pip/
  ```

- [ ] –°–æ–±—Ä–∞—Ç—å review-api –æ–±—Ä–∞–∑
  ```bash
  docker-compose -f docker-compose.offline.yml build
  docker save -o review-api.tar code-review-api:latest
  ```

- [ ] –°–æ–∑–¥–∞—Ç—å transfer –ø–∞–∫–µ—Ç
  ```bash
  tar -czf transfer.tar.gz \
    base-image.tar \
    review-api.tar \
    docker-compose.offline.yml \
    .env.example
  ```

### –í –æ—Ñ–ª–∞–π–Ω —Å—Ä–µ–¥–µ ‚úì

- [ ] –†–∞—Å–ø–∞–∫–æ–≤–∞—Ç—å transfer –ø–∞–∫–µ—Ç
  ```bash
  tar -xzf transfer.tar.gz
  ```

- [ ] –ó–∞–≥—Ä—É–∑–∏—Ç—å –æ–±—Ä–∞–∑—ã
  ```bash
  docker load -i base-image.tar
  docker load -i review-api.tar
  ```

- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å .env
  ```bash
  cp .env.example .env
  nano .env
  ```

- [ ] –ó–∞–ø—É—Å—Ç–∏—Ç—å
  ```bash
  docker-compose -f docker-compose.offline.yml up -d
  ```

- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å
  ```bash
  curl http://localhost:8000/api/v1/health
  docker exec code-review-api cline --version
  ```

---

## üîó –°—Å—ã–ª–∫–∏

- [NodeSource GitHub](https://github.com/nodesource/distributions)
- [npm Registry](https://registry.npmjs.org/)
- [Docker Hub - nikolaik/python-nodejs](https://hub.docker.com/r/nikolaik/python-nodejs)
- [–ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ: docs/OFFLINE_BUILD.md](OFFLINE_BUILD.md)

---

**–û–±–Ω–æ–≤–ª–µ–Ω–æ:** 2025-11-03  
**–í–µ—Ä—Å–∏—è:** 1.0.0


