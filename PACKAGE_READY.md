# üéâ OFFLINE DEPLOYMENT –ü–ê–ö–ï–¢ –ì–û–¢–û–í!

## ‚úÖ –ß—Ç–æ —Å–æ–∑–¥–∞–Ω–æ

### üì¶ –ì–æ—Ç–æ–≤—ã–π –∞—Ä—Ö–∏–≤ –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏

```
code-review-offline-lightweight-20251106.tar.gz
–†–∞–∑–º–µ—Ä: 24 MB
```

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `/workspace/code-review-offline-lightweight-20251106.tar.gz`

---

## üìã –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø–∞–∫–µ—Ç–∞

‚úÖ **npm –ø–∞–∫–µ—Ç—ã (2 —Ñ–∞–π–ª–∞):**
- `qwen-code-qwen-code-0.1.4.tgz` (13 MB) - Qwen Code CLI
- `cline-cli-2.0.0-placeholder.tgz` - Placeholder –¥–ª—è Cline CLI

> ‚ö†Ô∏è **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** @cline/cli –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –≤ –ø—É–±–ª–∏—á–Ω–æ–º npm registry. –ù–∞ —Ü–µ–ª–µ–≤–æ–π –º–∞—à–∏–Ω–µ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–π Cline CLI –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫.

‚úÖ **Python –ø–∞–∫–µ—Ç—ã (44 —Ñ–∞–π–ª–∞):**
- FastAPI, uvicorn, httpx
- pydantic, python-gitlab, GitPython
- pytest, loguru, jsonschema
- –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (~20 MB)

‚úÖ **–ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥:**
- `app/` - FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- `prompts/` - –ü—Ä–æ–º–ø—Ç—ã –¥–ª—è AI –∞–≥–µ–Ω—Ç–æ–≤
- `rules/` - –ü—Ä–∞–≤–∏–ª–∞ code review –¥–ª—è Java Spring Boot

‚úÖ **–°–∫—Ä–∏–ø—Ç—ã —É—Å—Ç–∞–Ω–æ–≤–∫–∏:**
- `install-linux.sh` - –î–ª—è Linux/VPS
- `install-windows.ps1` - –î–ª—è Windows

‚úÖ **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
- `README_FIRST.txt` - –ü–µ—Ä–≤–æ–µ —á—Ç–æ –Ω—É–∂–Ω–æ –ø—Ä–æ—á–∏—Ç–∞—Ç—å
- `INSTALL_README.md` - –ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
- `docs/WINDOWS_OFFLINE_INSTALL.md` - –î–µ—Ç–∞–ª—å–Ω–æ –¥–ª—è Windows
- `docs/LINUX_VPS_OFFLINE_INSTALL.md` - –î–µ—Ç–∞–ª—å–Ω–æ –¥–ª—è Linux

‚úÖ **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
- `docker-compose.offline.yml`
- `Dockerfile.offline`
- `.env.example`

---

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞–∫–µ—Ç

### –®–∞–≥ 1: –ü–µ—Ä–µ–¥–∞—á–∞ –Ω–∞ —Ü–µ–ª–µ–≤—É—é —Å–∏—Å—Ç–µ–º—É

**–í–∞—Ä–∏–∞–Ω—Ç A: –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å —ç—Ç–æ–π –º–∞—à–∏–Ω—ã**
```bash
# –ß–µ—Ä–µ–∑ scp
scp /workspace/code-review-offline-lightweight-20251106.tar.gz user@target:/opt/

# –ò–ª–∏ –Ω–∞ USB
cp /workspace/code-review-offline-lightweight-20251106.tar.gz /media/usb/
```

**–í–∞—Ä–∏–∞–Ω—Ç B: –°–∫–∞—á–∞—Ç—å (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω)**
```bash
# –§–∞–π–ª –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –∑–¥–µ—Å—å
ls -lh /workspace/code-review-offline-lightweight-20251106.tar.gz
```

### –®–∞–≥ 2: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–º Windows PC

```powershell
# 1. –†–∞—Å–ø–∞–∫–æ–≤–∞—Ç—å –∞—Ä—Ö–∏–≤ (7-Zip/WinRAR)
# 2. –û—Ç–∫—Ä—ã—Ç—å PowerShell –æ—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
# 3. –ü–µ—Ä–µ–π—Ç–∏ –≤ –ø–∞–ø–∫—É
cd code-review-offline-lightweight-20251106

# 4. –ó–∞–ø—É—Å—Ç–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É
.\install-windows.ps1

# 5. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å .env (–æ—Ç–∫—Ä–æ–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ Notepad)
# –ó–∞–ø–æ–ª–Ω–∏—Ç—å:
#   - MODEL_API_URL
#   - MODEL_API_KEY
#   - GITLAB_URL
#   - GITLAB_TOKEN

# 6. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∏—Å—Ç–µ–º—É
docker-compose -f docker-compose.offline.yml up -d

# 7. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É
curl http://localhost:8000/api/v1/health
```

### –®–∞–≥ 3: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–º Linux VPS

```bash
# 1. –†–∞—Å–ø–∞–∫–æ–≤–∞—Ç—å
tar -xzf code-review-offline-lightweight-20251106.tar.gz
cd code-review-offline-lightweight-20251106

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É
bash install-linux.sh

# 3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å .env
nano .env
# –ó–∞–ø–æ–ª–Ω–∏—Ç—å:
#   - MODEL_API_URL
#   - MODEL_API_KEY
#   - GITLAB_URL
#   - GITLAB_TOKEN

# 4. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∏—Å—Ç–µ–º—É
docker-compose -f docker-compose.offline.yml up -d

# 5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É
curl http://localhost:8000/api/v1/health
```

---

## ‚ö†Ô∏è –í–ê–ñ–ù–û: –û Cline CLI

### –ü—Ä–æ–±–ª–µ–º–∞
`@cline/cli` **–Ω–µ –Ω–∞–π–¥–µ–Ω** –≤ –ø—É–±–ª–∏—á–Ω–æ–º npm registry. –í –ø–∞–∫–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω placeholder.

### –†–µ—à–µ–Ω–∏—è

**–í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ Qwen Code CLI**
```env
# –í .env —Ñ–∞–π–ª–µ –Ω–∞ —Ü–µ–ª–µ–≤–æ–π –º–∞—à–∏–Ω–µ
DEFAULT_CLI_AGENT=QWEN_CODE
```

**–í–∞—Ä–∏–∞–Ω—Ç 2: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Cline CLI –≤—Ä—É—á–Ω—É—é**
–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø –∫ Cline CLI:
1. –ü–æ–ª—É—á–∏—Ç–µ `.tgz` —Ñ–∞–π–ª Cline CLI
2. –ó–∞–º–µ–Ω–∏—Ç–µ `offline-packages/cline-cli-*-placeholder.tgz` –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π —Ñ–∞–π–ª
3. –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ Docker –æ–±—Ä–∞–∑

**–í–∞—Ä–∏–∞–Ω—Ç 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π CLI**
–°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ª—é–±—ã–µ OpenAI-compatible CLI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã.

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Å–∏—Å—Ç–µ–º—ã:

```bash
# Health check
curl http://localhost:8000/api/v1/health
```

**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç (—Å Qwen Code):**
```json
{
  "status": "healthy",
  "version": "2.0.0",
  "cline_available": false,
  "qwen_available": true,
  "model_api_connected": true,
  "gitlab_connected": true
}
```

---

## üìä –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

**–ú–∏–Ω–∏–º—É–º:**
- 4GB RAM
- 20GB —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ
- Docker + Docker Compose

**–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û):**
- –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π Model API (OpenAI-compatible)
- –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π GitLab instance

### –ß—Ç–æ –±—É–¥–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ

–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ `install-linux.sh` –∏–ª–∏ `install-windows.ps1`:

1. ‚úÖ –ó–∞–≥—Ä—É–∑–∏—Ç—Å—è –∏–ª–∏ —Å–æ–±–µ—Ä–µ—Ç—Å—è –±–∞–∑–æ–≤—ã–π –æ–±—Ä–∞–∑ (Python 3.11 + Node.js 18)
2. ‚úÖ –°–æ–±–µ—Ä–µ—Ç—Å—è –æ–±—Ä–∞–∑ `code-review-api` —Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏
3. ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è Qwen Code CLI –∏–∑ offline –ø–∞–∫–µ—Ç–∞
4. ‚úÖ –°–æ–∑–¥–∞—Å—Ç—Å—è .env —Ñ–∞–π–ª –¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
5. ‚úÖ –°–∏—Å—Ç–µ–º–∞ –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤–∞ –∫ –∑–∞–ø—É—Å–∫—É

**–í—Ä–µ–º—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏:** 10-15 –º–∏–Ω—É—Ç (–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –º–∞—à–∏–Ω—ã)

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤ –ø–∞–∫–µ—Ç–µ

–ü–æ—Å–ª–µ —Ä–∞—Å–ø–∞–∫–æ–≤–∫–∏ –∞—Ä—Ö–∏–≤–∞ —á–∏—Ç–∞–π—Ç–µ –≤ —Ç–∞–∫–æ–º –ø–æ—Ä—è–¥–∫–µ:

1. **`README_FIRST.txt`** - –ö—Ä–∞—Ç–∫–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è (–ù–ê–ß–ù–ò–¢–ï –û–¢–°–Æ–î–ê)
2. **`INSTALL_README.md`** - –ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
3. **`docs/WINDOWS_OFFLINE_INSTALL.md`** - 66 —Å—Ç—Ä–∞–Ω–∏—Ü –¥–ª—è Windows
4. **`docs/LINUX_VPS_OFFLINE_INSTALL.md`** - 62 —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–ª—è Linux

–í—Å—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤–∫–ª—é—á–∞–µ—Ç:
- –ü–æ—à–∞–≥–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
- Troubleshooting
- –ü—Ä–∏–º–µ—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- FAQ

---

## üîß Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞ 1: CLI –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–∏–ª—Å—è

**–°–∏–º–ø—Ç–æ–º—ã:**
```json
{"qwen_available": false}
```

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –í–æ–π—Ç–∏ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker exec -it code-review-api bash

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Ä—É—á–Ω—É—é
npm install -g /tmp/npm-packages/qwen-code-*.tgz

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å
qwen-code --version
```

### –ü—Ä–æ–±–ª–µ–º–∞ 2: –ù–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ Model API

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `MODEL_API_URL` –≤ `.env`
2. –î–ª—è localhost –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
   - Windows: `http://host.docker.internal:8000/v1`
   - Linux: `http://172.17.0.1:8000/v1`

### –ü—Ä–æ–±–ª–µ–º–∞ 3: –ü–æ—Ä—Ç 8000 –∑–∞–Ω—è—Ç

**–†–µ—à–µ–Ω–∏–µ:**
```yaml
# –í docker-compose.offline.yml –∏–∑–º–µ–Ω–∏—Ç–µ:
ports:
  - "8001:8000"
```

---

## üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–∞–∫–µ—Ç–∞

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ |
|----------|----------|
| **–†–∞–∑–º–µ—Ä –∞—Ä—Ö–∏–≤–∞** | 24 MB |
| **–†–∞—Å–ø–∞–∫–æ–≤–∞–Ω–Ω—ã–π** | ~50 MB |
| **npm –ø–∞–∫–µ—Ç–æ–≤** | 2 (Qwen Code + placeholder) |
| **Python –ø–∞–∫–µ—Ç–æ–≤** | 44 |
| **–§–∞–π–ª–æ–≤ –≤ –∞—Ä—Ö–∏–≤–µ** | ~200+ |
| **–°—Ç—Ä–æ–∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏** | ~3000 |

---

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ **–ê—Ä—Ö–∏–≤ –≥–æ—Ç–æ–≤** - `/workspace/code-review-offline-lightweight-20251106.tar.gz`
2. üì§ **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ** –Ω–∞ —Ü–µ–ª–µ–≤—ã–µ —Å–∏—Å—Ç–µ–º—ã
3. üìñ **–ß–∏—Ç–∞–π—Ç–µ** `README_FIRST.txt` –≤ –∞—Ä—Ö–∏–≤–µ
4. üöÄ **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ** —á–µ—Ä–µ–∑ `install-linux.sh` –∏–ª–∏ `install-windows.ps1`
5. ‚öôÔ∏è **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ** `.env` —Ñ–∞–π–ª
6. ‚úÖ **–ó–∞–ø—É—Å—Ç–∏—Ç–µ** `docker-compose up -d`

---

## üí° –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### –§–∞–π–ª—ã –≤ workspace

–í—Å–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –≤ `/workspace/`:

```
code-review-offline-lightweight-20251106.tar.gz  (24 MB) ‚≠ê –ì–õ–ê–í–ù–´–ô –ê–†–•–ò–í
PACKAGE_READY.md                                          (—ç—Ç–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è)
OFFLINE_PACKAGE_SUMMARY.md                                (–æ–±–∑–æ—Ä)
HOW_TO_BUILD_OFFLINE_PACKAGE.md                           (–∫–∞–∫ —Å–æ–±–∏—Ä–∞—Ç—å)
READY_TO_USE.txt                                          (–∫—Ä–∞—Ç–∫–∞—è —Å–≤–æ–¥–∫–∞)
scripts/prepare-lightweight-offline.sh                    (—Å–∫—Ä–∏–ø—Ç —Å–±–æ—Ä–∫–∏)
docs/WINDOWS_OFFLINE_INSTALL.md                           (–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è Win)
docs/LINUX_VPS_OFFLINE_INSTALL.md                         (–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è Linux)
```

### –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `docker-compose logs -f`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ health: `curl http://localhost:8000/api/v1/health`
3. –°–º. troubleshooting –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø–∞–∫–µ—Ç–∞
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é `.env`

---

## üéâ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

–ü–∞–∫–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤ –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –Ω–∞ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ Windows PC –∏ Linux VPS —Å–µ—Ä–≤–µ—Ä—ã.

**–£–¥–∞—á–Ω–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è! üöÄ**

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-11-06  
**–í–µ—Ä—Å–∏—è –ø–∞–∫–µ—Ç–∞:** lightweight-20251106  
**–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:** Windows 10/11, Ubuntu 20.04+, Debian 11+, CentOS 8+
