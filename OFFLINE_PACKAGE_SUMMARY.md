# –ò—Ç–æ–≥–æ–≤–∞—è —Å–≤–æ–¥–∫–∞: –û—Ñ–ª–∞–π–Ω Docker –ø–∞–∫–µ—Ç —Å Cline CLI

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ —Å–æ–∑–¥–∞–Ω–æ

### 1. –°–∫—Ä–∏–ø—Ç –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –ø–∞–∫–µ—Ç–∞
**–§–∞–π–ª:** `scripts/prepare-offline-deploy-package.sh`

–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π:
- ‚úÖ –°–∫–∞—á–∏–≤–∞–µ—Ç npm –ø–∞–∫–µ—Ç—ã (@cline/cli, @qwen-code/qwen-code)
- ‚úÖ –°–∫–∞—á–∏–≤–∞–µ—Ç –±–∞–∑–æ–≤—ã–π Docker –æ–±—Ä–∞–∑ (Python 3.11 + Node.js 18)
- ‚úÖ –°–æ–±–∏—Ä–∞–µ—Ç Docker –æ–±—Ä–∞–∑ —Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º–∏ CLI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∫—É CLI –≤ –æ–±—Ä–∞–∑–µ
- ‚úÖ –°–æ—Ö—Ä–∞–Ω—è–µ—Ç Docker –æ–±—Ä–∞–∑—ã –≤ —Ñ–∞–π–ª—ã (.tar)
- ‚úÖ –°–æ–∑–¥–∞–µ—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è Windows –∏ VPS
- ‚úÖ –£–ø–∞–∫–æ–≤—ã–≤–∞–µ—Ç –≤—Å–µ –≤ –∞—Ä—Ö–∏–≤

### 2. –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è Windows PC
**–§–∞–π–ª:** –°–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ –ø–∞–∫–µ—Ç–µ –∫–∞–∫ `INSTALL_WINDOWS.md`

–°–æ–¥–µ—Ä–∂–∏—Ç:
- ‚úÖ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∏ —É—Å—Ç–∞–Ω–æ–≤–∫—É Docker Desktop
- ‚úÖ –ü–æ—à–∞–≥–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ä–∞—Å–ø–∞–∫–æ–≤–∫–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫—É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (.env)
- ‚úÖ –ó–∞–ø—É—Å–∫ –∏ –ø—Ä–æ–≤–µ—Ä–∫—É —Ä–∞–±–æ—Ç—ã
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º
- ‚úÖ –†–µ—à–µ–Ω–∏–µ —Ç–∏–ø–∏—á–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º

### 3. –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è VPS —Å–µ—Ä–≤–µ—Ä–∞
**–§–∞–π–ª:** –°–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ –ø–∞–∫–µ—Ç–µ –∫–∞–∫ `INSTALL_VPS.md`

–°–æ–¥–µ—Ä–∂–∏—Ç:
- ‚úÖ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∏ —É—Å—Ç–∞–Ω–æ–≤–∫—É Docker Engine
- ‚úÖ –ü–æ—à–∞–≥–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è Linux —Å–µ—Ä–≤–µ—Ä–æ–≤
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫—É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫—É –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞ —á–µ—Ä–µ–∑ systemd
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫—É —Ñ–∞–π—Ä–≤–æ–ª–∞
- ‚úÖ –†–µ—à–µ–Ω–∏–µ —Ç–∏–ø–∏—á–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º

### 4. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
**–§–∞–π–ª—ã:**
- `docs/OFFLINE_DEPLOY_PACKAGE.md` - –î–µ—Ç–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é —Å–∫—Ä–∏–ø—Ç–∞
- `OFFLINE_DEPLOY.md` - –ö—Ä–∞—Ç–∫–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
- `PACKAGE_README.md` - –°–æ–∑–¥–∞–µ—Ç—Å—è –≤ –ø–∞–∫–µ—Ç–µ —Å –æ–±—â–µ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–∞ (–≤ —Å—Ä–µ–¥–µ —Å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–æ–º)

```bash
# –°–¥–µ–ª–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º
chmod +x scripts/prepare-offline-deploy-package.sh

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–ø—Ç
./scripts/prepare-offline-deploy-package.sh
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ê—Ä—Ö–∏–≤ `offline-deploy-package-YYYYMMDD-HHMMSS.tar.gz` (2-3 GB)

### –®–∞–≥ 2: –ü–µ—Ä–µ–Ω–æ—Å –Ω–∞ —Ü–µ–ª–µ–≤—É—é —Å–∏—Å—Ç–µ–º—É

#### –î–ª—è Windows PC:
1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∞—Ä—Ö–∏–≤ –Ω–∞ Windows PC
2. –†–∞—Å–ø–∞–∫—É–π—Ç–µ –∞—Ä—Ö–∏–≤ (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ 7-Zip –∏–ª–∏ WinRAR)
3. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –≤ `INSTALL_WINDOWS.md`

#### –î–ª—è VPS —Å–µ—Ä–≤–µ—Ä–∞:
1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∞—Ä—Ö–∏–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä:
   ```bash
   scp offline-deploy-package-*.tar.gz user@server:/opt/
   ```
2. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É –∏ —Ä–∞—Å–ø–∞–∫—É–π—Ç–µ:
   ```bash
   ssh user@server
   cd /opt
   tar -xzf offline-deploy-package-*.tar.gz
   cd offline-deploy-package-*
   ```
3. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –≤ `INSTALL_VPS.md`

## üì¶ –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø–∞–∫–µ—Ç–∞

–ü–æ—Å–ª–µ —Ä–∞—Å–ø–∞–∫–æ–≤–∫–∏ –∞—Ä—Ö–∏–≤–∞ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ:

```
offline-deploy-package-YYYYMMDD-HHMMSS/
‚îú‚îÄ‚îÄ base-python-nodejs.tar          # –ë–∞–∑–æ–≤—ã–π Docker –æ–±—Ä–∞–∑
‚îú‚îÄ‚îÄ review-api.tar                   # Docker –æ–±—Ä–∞–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å CLI
‚îú‚îÄ‚îÄ offline-packages/                # npm –ø–∞–∫–µ—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ cline-cli-*.tgz
‚îÇ   ‚îî‚îÄ‚îÄ qwen-code-*.tgz
‚îú‚îÄ‚îÄ app/                             # –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ prompts/                         # –ü—Ä–æ–º–ø—Ç—ã –¥–ª—è CLI
‚îú‚îÄ‚îÄ rules/                           # –ü—Ä–∞–≤–∏–ª–∞ code review
‚îú‚îÄ‚îÄ docker-compose.offline.yml       # Docker Compose –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ Dockerfile.offline              # Dockerfile –¥–ª—è –æ—Ñ–ª–∞–π–Ω —Å–±–æ—Ä–∫–∏
‚îú‚îÄ‚îÄ requirements.txt                # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ .env.example                    # –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ env.example.annotated           # –ê–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ INSTALL_WINDOWS.md              # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è Windows
‚îú‚îÄ‚îÄ INSTALL_VPS.md                  # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è VPS
‚îú‚îÄ‚îÄ PACKAGE_README.md               # –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–∞–∫–µ—Ç–µ
‚îî‚îÄ‚îÄ README.md                       # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
```

## üîß –û—Å–Ω–æ–≤–Ω—ã–µ —à–∞–≥–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ (–æ–±—â–∏–µ)

1. **–ó–∞–≥—Ä—É–∑–∏—Ç—å Docker –æ–±—Ä–∞–∑—ã:**
   ```bash
   docker load -i base-python-nodejs.tar
   docker load -i review-api.tar
   ```

2. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:**
   ```bash
   cp .env.example .env
   # –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å .env —Ñ–∞–π–ª
   ```

3. **–ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:**
   ```bash
   docker-compose -f docker-compose.offline.yml up -d
   ```

4. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É:**
   ```bash
   curl http://localhost:8000/api/v1/health
   ```

## ‚ú® –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- ‚úÖ **–ü–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π** - –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ
- ‚úÖ **–ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏** - —Å–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ CLI –≤ –æ–±—Ä–∞–∑–µ
- ‚úÖ **–ü–æ–¥—Ä–æ–±–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏** - –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è Windows –∏ Linux
- ‚úÖ **–ì–æ—Ç–æ–≤—ã–µ –æ–±—Ä–∞–∑—ã** - –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏ –Ω–∞ —Ü–µ–ª–µ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ
- ‚úÖ **–í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤–∫–ª—é—á–µ–Ω—ã** - npm –ø–∞–∫–µ—Ç—ã, Docker –æ–±—Ä–∞–∑—ã, –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [OFFLINE_DEPLOY.md](OFFLINE_DEPLOY.md) - –ö—Ä–∞—Ç–∫–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
- [docs/OFFLINE_DEPLOY_PACKAGE.md](docs/OFFLINE_DEPLOY_PACKAGE.md) - –î–µ—Ç–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [OFFLINE_QUICK_START.md](OFFLINE_QUICK_START.md) - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –¥–ª—è offline —Ä–µ–∂–∏–º–∞
- [docs/OFFLINE_BUILD.md](docs/OFFLINE_BUILD.md) - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –æ—Ñ–ª–∞–π–Ω —Å–±–æ—Ä–∫–µ

## üéØ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

–í—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ñ–∞–π–ª—ã –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ —Å–æ–∑–¥–∞–Ω—ã. –°–∫—Ä–∏–ø—Ç –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –æ—Ñ–ª–∞–π–Ω –ø–∞–∫–µ—Ç–æ–≤ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è.
